<div>
  <div class="example-loading-shade" *ngIf="!(details$ | async)">
    <mat-spinner></mat-spinner>
  </div>
  <mat-card *ngIf="details$ | async as details">
    <div class="container">
      <div class="cover">
        <img [src]="details.book.cover()" [alt]="details.book.title">
      </div>
      <div class="info">
        <h1 class="mat-headline">{{details.book.title}}</h1>
        <p>{{details.book.subtitle}}</p>
        <p class="with-list">by
          <span *ngFor="let author of details.book.authors">{{author.name}}</span>
        </p>
        <p class="with-list">
          Published <b>{{details.book.first_publish_year}}</b> by <span
          *ngFor="let publisher of details.book.publishers">{{publisher}}</span>
        </p>
        <p *ngIf="details.book.weight">Weight: <b>{{details.book.weight}}</b></p>

        <mat-form-field class="tags-list">
          <mat-chip-list #chipList>
            <mat-chip *ngFor="let tag of bookLocal.tags"
                      [selectable]="true"
                      [removable]="true"
                      (removed)="remove(tag)">
              {{tag.name}}
              <mat-icon matChipRemove>cancel</mat-icon>
            </mat-chip>
            <input
              placeholder="New tag..."
              [matChipInputFor]="chipList"
              (matChipInputTokenEnd)="add($event)"
            >
          </mat-chip-list>
        </mat-form-field>
      </div>
    </div>
  </mat-card>
</div>
